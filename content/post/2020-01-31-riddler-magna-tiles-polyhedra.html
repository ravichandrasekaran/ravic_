---
title: 'Riddler: Magna-Tiles Polyhedra'
author: ravic_
date: '2020-01-31'
slug: riddler-magna-tiles-polyhedra
categories: []
draft: true
tags:
  - riddler
---



<p>From the <a href="https://fivethirtyeight.com/features/can-you-roll-the-perfect-bowl/">Riddler</a>, a little 3D puzzle with triangular tiles!</p>
<!--more-->
<p>From our friends at the <a href="https://fivethirtyeight.com/features/can-you-roll-the-perfect-bowl/">Riddler</a>:</p>
<blockquote>
<p>Robert’s daughter has a set of Magna-Tiles, which, as their name implies, are tiles with magnets on the edges that can be used to build various polygons and polyhedra. Some of the tiles are identical isosceles triangles with one 30 degree angle and two 75 degree angles. If you were to arrange 12 of these tiles with their 30 degree angles in the center, they would lay flat and form a regular dodecagon. If you were to put fewer (between three and 11) of those tiles together in a similar way, they would form a pyramid whose base is a regular polygon. Robert has graciously provided a <a href="https://fivethirtyeight.com/features/can-you-roll-the-perfect-bowl/">photo of the resulting pyramids when three and 11 tiles are used</a><br />
<br />
If Robert wanted to maximize the volume contained within the resulting pyramid (presumably to store as much candy for his daughter as possible), how many tiles should he use?</p>
</blockquote>
<hr />
<p>Welcome back to your trigonometry class!
<img src="https://sites.google.com/site/therealworldtrigonometry/_/rsrc/1460486510342/home/image.gif" alt="Trig class" /></p>
<hr />
<div id="results" class="section level2">
<h2>Results</h2>
<p>Let’s save the trig, and check out the results!</p>
<p><img src="/post/2020-01-31-riddler-magna-tiles-polyhedra_files/figure-html/run_simulation-1.png" width="672" /></p>
<p><img src="/post/2020-01-31-riddler-magna-tiles-polyhedra_files/figure-html/run_simulation_2-1.png" width="672" /></p>
<p><img src="/post/2020-01-31-riddler-magna-tiles-polyhedra_files/figure-html/run_simulation_3-1.png" width="672" /></p>
</div>
<div id="approach" class="section level2">
<h2>Approach</h2>
<p>Let’s start by looking at the tile. We know that 12 of these tiles will lay
flat in a dodecahedron. That already tells us we have a 30-75-75 isoceles
triangle.
<span class="math display">\[
\begin{aligned}
\theta &amp; = \frac{2\pi}{f} \\
\end{aligned}
\]</span></p>
<div id="the-tile" class="section level4">
<h4>The tile</h4>
<p>With side length <span class="math inline">\(a\)</span>, the height of the tile <span class="math inline">\(h_t\)</span> is given by:</p>
<p><span class="math display">\[
\begin{aligned}
\tan(\tfrac{1}{2}\theta) &amp; = (\tfrac{1}{2}a) / h_t \\
h_t &amp; = (\tfrac{1}{2}a)  \cot (\tfrac{1}{2}\theta) \\
&amp; = (\tfrac{1}{2}a) \cot (\frac{\pi}{f})
\end{aligned}
\]</span></p>
</div>
<div id="the-base" class="section level4">
<h4>The base</h4>
<p>The base is a regular polygon with <span class="math inline">\(n\)</span> sides. We can divide that regular
polygon into <span class="math inline">\(n\)</span> triangles by connecting the vertices to the center. (That
will represent the base of a wedge of the polyhedra that we’re working
towards.)</p>
<p>The interior angle <span class="math inline">\(\phi\)</span> for those <span class="math inline">\(n\)</span> triangles in the base polygon:
<span class="math display">\[
\begin{aligned}
\phi &amp; = \frac{2\pi}{n} \\
\end{aligned}
\]</span></p>
<p>And then we can divide each triangle again in half by dropping a perpendicular
from the center to the side. How long is that perpendicular, <span class="math inline">\(p\)</span>? Well, we have
basically the same equation as before, just using a different number of sides
for the regular polygon.</p>
$$
<span class="math display">\[\begin{aligned}
\tan(\tfrac{1}{2}\phi) &amp; = (\tfrac{1}{2}a) / p \\
p &amp; = (\tfrac{1}{2}a)  \cot (\tfrac{1}{2}\phi) \\
p &amp; = (\tfrac{1}{2}a) \cot (\frac{\pi}{n})

\end{aligned}\]</span>
<p>$$</p>
</div>
<div id="the-wedge" class="section level4">
<h4>The wedge</h4>
<p>With this perpendicular distance <span class="math inline">\(p\)</span>, we can get the base area of a single
wedge.
<span class="math display">\[
\begin{aligned}
A_w &amp; = \tfrac{1}{2} \cdot p \cdot a \\
&amp; = \tfrac{1}{2} \cdot (\tfrac{1}{2}a) \cot (\frac{\pi}{n}) \cdot a \\
&amp; = \tfrac{1}{4} a^2  \cot (\frac{\pi}{n})
\end{aligned}
\]</span></p>
<p>And with the perpendicular distance along the base <span class="math inline">\(p\)</span>, and the tile height
<span class="math inline">\(h_t\)</span> we obtained earlier, we can express the wedge height <span class="math inline">\(h_w\)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
h_t^2 &amp; = p^2 + h_w^2 \\
h_w^2 &amp; = h_t^2 - p^2 \\
&amp; = [ (\tfrac{1}{2}a) \cot (\frac{\pi}{f})]^2 - [(\tfrac{1}{2}a) \cot (\frac{\pi}{n})]^2 \\
h_w &amp; = \sqrt{[ (\tfrac{1}{2}a) \cot (\frac{\pi}{f})]^2 - [(\tfrac{1}{2}a) \cot (\frac{\pi}{n})]^2} \\
&amp; = (\tfrac{1}{2}a) \sqrt{ \cot^2 (\frac{\pi}{f}) -  \cot^2 (\frac{\pi}{n})} \\
\end{aligned}
\]</span></p>
</div>
<div id="the-volume" class="section level4">
<h4>The volume</h4>
<p>The volume of a single wedge <span class="math inline">\(V_w\)</span> as a function of <span class="math inline">\(n\)</span> is given by:
<span class="math display">\[
\begin{aligned}
V_w &amp; = \tfrac{1}{3} \cdot A_w \cdot h_w \\
&amp; = \tfrac{1}{3} \cdot [\tfrac{1}{4} a^2  \cot (\frac{\pi}{n})] \cdot [(\tfrac{1}{2}a) \sqrt{ \cot^2 (\frac{\pi}{f}) -  \cot^2 (\frac{\pi}{n})}] \\
&amp; = \frac{1}{24} \cdot a^3 \cdot \cot(\frac{\pi}{n}) \sqrt{ \cot^2 (\frac{\pi}{f}) -  \cot^2 (\frac{\pi}{n})}
\end{aligned}
\]</span></p>
<p>And let’s not forget that we’re trying to get the total volume, <span class="math inline">\(V\)</span>:
<span class="math display">\[
\begin{aligned}
V &amp; = n \cdot V_w \\
&amp; = n \cdot [\frac{1}{24} \cdot a^3 \cdot \cot(\frac{\pi}{n}) \sqrt{ \cot^2 (\frac{\pi}{f}) -  \cot^2 (\frac{\pi}{n})}]
\end{aligned}
\]</span></p>
</div>
</div>
<div id="code" class="section level2">
<h2>Code</h2>
<pre class="r"><code>n_flat &lt;- 12
df &lt;- tibble(n = seq(3, n_flat), side = 1)
# Degrees are implied from the flat config.

summ &lt;- df %&gt;%
  mutate(
    tile_height = (side / 2 ) / tan(pi / n_flat),
    base_center_side_dist = (side / 2) / tan(pi / n),
    base_wedge_area = (1/2) * base_center_side_dist * side,
    wedge_height = sqrt(tile_height ^2 - base_center_side_dist ^ 2),
    wedge_volume = (1/3) * base_wedge_area * wedge_height,
    total_volume = n * wedge_volume) 

summ %&gt;%
  ggplot(aes(n, total_volume)) +
  geom_point() +
  theme_light() +
  labs(
    title = &quot;Polyhedra volume for n-sided regular polygon base&quot;,
    x = &quot;n&quot;, y = &quot;Volume&quot;)</code></pre>
</div>
